#!/bin/zsh

cd /Volumes/SamsungT9/scratch/Ionetwork/Voyager1

echo c1639132.photomsimp.cub > image_list.lis
echo c1639130.photomsimp.cub >> image_list.lis
echo c1639128.photomsimp.cub >> image_list.lis
echo c1639126.photomsimp.cub >> image_list.lis
echo c1639134.photomsimp.cub >> image_list.lis
echo c1639142.photomsimp.cub >> image_list.lis
echo c1639140.photomsimp.cub >> image_list.lis
echo c1639136.photomsimp.cub >> image_list.lis
echo c1639124.photomsimp.cub >> image_list.lis
echo c1639122.photomsimp.cub >> image_list.lis
echo c1639120.photomsimp.cub >> image_list.lis
echo c1639118.photomsimp.cub >> image_list.lis
echo c1639116.photomsimp.cub >> image_list.lis
echo c1639114.photomsimp.cub >> image_list.lis
echo c1639112.photomsimp.cub >> image_list.lis
echo c1639110.photomsimp.cub >> image_list.lis
echo c1639108.photomsimp.cub >> image_list.lis
echo c1639106.photomsimp.cub >> image_list.lis
echo c1639104.photomsimp.cub >> image_list.lis
echo c1639102.photomsimp.cub >> image_list.lis
echo c1639056.photomsimp.cub >> image_list.lis
echo c1639054.photomsimp.cub >> image_list.lis
echo c1639052.photomsimp.cub >> image_list.lis
echo c1639044.photomsimp.cub >> image_list.lis
echo c1639138.photomsimp.cub >> image_list.lis
echo c1639042.photomsimp.cub >> image_list.lis
echo c1639040.photomsimp.cub >> image_list.lis
echo c1639038.photomsimp.cub >> image_list.lis
echo c1639036.photomsimp.cub >> image_list.lis
echo c1639034.photomsimp.cub >> image_list.lis
echo c1639030.photomsimp.cub >> image_list.lis
echo c1639028.photomsimp.cub >> image_list.lis
echo c1639026.photomsimp.cub >> image_list.lis
echo c1639024.photomsimp.cub >> image_list.lis
echo c1639002.photomsimp.cub >> image_list.lis
echo c1638946.photomsimp.cub >> image_list.lis
echo c1638954.photomsimp.cub >> image_list.lis
echo c1638938.photomsimp.cub >> image_list.lis
echo c1639144.photomsimp.cub >> image_list.lis
echo c1639146.photomsimp.cub >> image_list.lis
echo c1639148.photomsimp.cub >> image_list.lis
echo c1639150.photomsimp.cub >> image_list.lis
echo c1639152.photomsimp.cub >> image_list.lis
echo c1639154.photomsimp.cub >> image_list.lis
echo c1639156.photomsimp.cub >> image_list.lis
echo c1639158.photomsimp.cub >> image_list.lis
echo c1639200.photomsimp.cub >> image_list.lis

echo c1639044.photomsimp.cub > image_held.lis

echo c1639132.equal.cub > equal_list.lis
echo c1639130.equal.cub >> equal_list.lis
echo c1639128.equal.cub >> equal_list.lis
echo c1639126.equal.cub >> equal_list.lis
echo c1639134.equal.cub >> equal_list.lis
echo c1639142.equal.cub >> equal_list.lis
echo c1639140.equal.cub >> equal_list.lis
echo c1639136.equal.cub >> equal_list.lis
echo c1639124.equal.cub >> equal_list.lis
echo c1639122.equal.cub >> equal_list.lis
echo c1639120.equal.cub >> equal_list.lis
echo c1639118.equal.cub >> equal_list.lis
echo c1639116.equal.cub >> equal_list.lis
echo c1639114.equal.cub >> equal_list.lis
echo c1639112.equal.cub >> equal_list.lis
echo c1639110.equal.cub >> equal_list.lis
echo c1639108.equal.cub >> equal_list.lis
echo c1639106.equal.cub >> equal_list.lis
echo c1639104.equal.cub >> equal_list.lis
echo c1639102.equal.cub >> equal_list.lis
echo c1639056.equal.cub >> equal_list.lis
echo c1639054.equal.cub >> equal_list.lis
echo c1639052.equal.cub >> equal_list.lis
echo c1639044.equal.cub >> equal_list.lis
echo c1639138.equal.cub >> equal_list.lis
echo c1639042.equal.cub >> equal_list.lis
echo c1639040.equal.cub >> equal_list.lis
echo c1639038.equal.cub >> equal_list.lis
echo c1639036.equal.cub >> equal_list.lis
echo c1639034.equal.cub >> equal_list.lis
echo c1639030.equal.cub >> equal_list.lis
echo c1639028.equal.cub >> equal_list.lis
echo c1639026.equal.cub >> equal_list.lis
echo c1639024.equal.cub >> equal_list.lis
echo c1639002.equal.cub >> equal_list.lis
echo c1638946.equal.cub >> equal_list.lis
echo c1638954.equal.cub >> equal_list.lis
echo c1638938.equal.cub >> equal_list.lis
echo c1639144.equal.cub >> equal_list.lis
echo c1639146.equal.cub >> equal_list.lis
echo c1639148.equal.cub >> equal_list.lis
echo c1639150.equal.cub >> equal_list.lis
echo c1639152.equal.cub >> equal_list.lis
echo c1639154.equal.cub >> equal_list.lis
echo c1639156.equal.cub >> equal_list.lis
echo c1639158.equal.cub >> equal_list.lis
echo c1639200.equal.cub >> equal_list.lis

echo c1639132.blend.cub > blend_list.lis
echo c1639130.blend.cub >> blend_list.lis
echo c1639128.blend.cub >> blend_list.lis
echo c1639126.blend.cub >> blend_list.lis
echo c1639134.blend.cub >> blend_list.lis
echo c1639142.blend.cub >> blend_list.lis
echo c1639140.blend.cub >> blend_list.lis
echo c1639136.blend.cub >> blend_list.lis
echo c1639124.blend.cub >> blend_list.lis
echo c1639122.blend.cub >> blend_list.lis
echo c1639120.blend.cub >> blend_list.lis
echo c1639118.blend.cub >> blend_list.lis
echo c1639116.blend.cub >> blend_list.lis
echo c1639114.blend.cub >> blend_list.lis
echo c1639112.blend.cub >> blend_list.lis
echo c1639110.blend.cub >> blend_list.lis
echo c1639108.blend.cub >> blend_list.lis
echo c1639106.blend.cub >> blend_list.lis
echo c1639104.blend.cub >> blend_list.lis
echo c1639102.blend.cub >> blend_list.lis
echo c1639056.blend.cub >> blend_list.lis
echo c1639054.blend.cub >> blend_list.lis
echo c1639052.blend.cub >> blend_list.lis
echo c1639044.blend.cub >> blend_list.lis
echo c1639138.blend.cub >> blend_list.lis
echo c1639042.blend.cub >> blend_list.lis
echo c1639040.blend.cub >> blend_list.lis
echo c1639038.blend.cub >> blend_list.lis
echo c1639036.blend.cub >> blend_list.lis
echo c1639034.blend.cub >> blend_list.lis
echo c1639030.blend.cub >> blend_list.lis
echo c1639028.blend.cub >> blend_list.lis
echo c1639026.blend.cub >> blend_list.lis
echo c1639024.blend.cub >> blend_list.lis
echo c1639002.blend.cub >> blend_list.lis
echo c1638946.blend.cub >> blend_list.lis
echo c1638954.blend.cub >> blend_list.lis
echo c1638938.blend.cub >> blend_list.lis
echo c1639144.blend.cub >> blend_list.lis
echo c1639146.blend.cub >> blend_list.lis
echo c1639148.blend.cub >> blend_list.lis
echo c1639150.blend.cub >> blend_list.lis
echo c1639152.blend.cub >> blend_list.lis
echo c1639154.blend.cub >> blend_list.lis
echo c1639156.blend.cub >> blend_list.lis
echo c1639158.blend.cub >> blend_list.lis
echo c1639200.blend.cub >> blend_list.lis

echo c1639132 > image_name.lis
echo c1639130 >> image_name.lis
echo c1639128 >> image_name.lis
echo c1639126 >> image_name.lis
echo c1639134 >> image_name.lis
echo c1639142 >> image_name.lis
echo c1639140 >> image_name.lis
echo c1639136 >> image_name.lis
echo c1639124 >> image_name.lis
echo c1639122 >> image_name.lis
echo c1639120 >> image_name.lis
echo c1639118 >> image_name.lis
echo c1639116 >> image_name.lis
echo c1639114 >> image_name.lis
echo c1639112 >> image_name.lis
echo c1639110 >> image_name.lis
echo c1639108 >> image_name.lis
echo c1639106 >> image_name.lis
echo c1639104 >> image_name.lis
echo c1639102 >> image_name.lis
echo c1639056 >> image_name.lis
echo c1639054 >> image_name.lis
echo c1639052 >> image_name.lis
echo c1639044 >> image_name.lis
echo c1639138 >> image_name.lis
echo c1639042 >> image_name.lis
echo c1639040 >> image_name.lis
echo c1639038 >> image_name.lis
echo c1639036 >> image_name.lis
echo c1639034 >> image_name.lis
echo c1639030 >> image_name.lis
echo c1639028 >> image_name.lis
echo c1639026 >> image_name.lis
echo c1639024 >> image_name.lis
echo c1639002 >> image_name.lis
echo c1638946 >> image_name.lis
echo c1638954 >> image_name.lis
echo c1638938 >> image_name.lis
echo c1639144 >> image_name.lis
echo c1639146 >> image_name.lis
echo c1639148 >> image_name.lis
echo c1639150 >> image_name.lis
echo c1639152 >> image_name.lis
echo c1639154 >> image_name.lis
echo c1639156 >> image_name.lis
echo c1639158 >> image_name.lis
echo c1639200 >> image_name.lis

resolution=2000
circle from=../\$1.remove.cub to=\$1.circle.cub radius=500 -batchlist=image_name.lis
trim from=\$1.circle.cub to=\$1.trim.cub top=3 bottom=3 left=3 right=3 -batchlist=image_name.lis
cam2map from=\$1.circle.cub to=\$1.simp.cub map=/Users/perry/Dropbox/Io/map/templates/2km_simplecylindrical.map pixres=mpp resolution=$resolution defaultrange=minimize -batchlist=image_name.lis
photomet from=\$1.simp.cub to=\$1.photomsimp.cub frompvl=/Users/perry/Dropbox/Io/io.pvl normname=mixed incref=0 incmat=45 albedo=0.3 thresh=100 maxemission=82 maxincidence=89 -batchlist=image_name.lis
equalizer fromlist=image_list.lis holdlist=image_held.lis tolist=equal_list.lis
blend fromlist=equal_list.lis tolist=blend_list.lis
automos fromlist=blend_list.lis mosaic=Voyager1.photomsimp.cub grange=user minlat=-90 maxlat=90 minlon=0 maxlon=360 priority=average
isis2std from=Voyager1.photomsimp.cub+1 to=Voyager1.photomsimp.tif format=tiff mode=grayscale \
	bittype=U16BIT stretch=linear minpercent=0.1 maxpercent=99.9 quality=80
